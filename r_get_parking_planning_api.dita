<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA 1.2 Reference//EN" "reference.dtd" [
]>
<reference id="reference_09c46b94-4b17-4795-aac8-573072506e9e"><title>Parking Planning</title><prolog><author>Linda Castellani</author></prolog><refbody><section>
      <p>There are two ways to retrieve Parking Planning data.<ol id="ol_cnd_jdr_kx"><li>Via WebSocket to retrieve near-real-time data based on: <ul id="ul_av2_mdr_kx"><li>AssetUid</li><li>Locations</li><li>LocationUid</li></ul></li><li> Via REST APIs to retrieve historical data based on:<ul id="ul_agr_tdr_kx"><li>AssetUid</li><li>Locations</li><li>LocationUid</li></ul><note>You can only retrieve one event type - either PKIN or PKOUT - when retrieving historical data.</note></li></ol></p>
    </section><section>
      <title>Near-Real-Time Data</title>
      <p>The WebSocket URL provides a link to near-real-time data for vehicle parking at the specified monitored location. You must use a WebSocket client to retrieve this data.</p>
    </section><section>
      <title>Retrieve Near-Real-Time Data by AssetUid</title>
      <table id="table_j12_kq5_gx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1*" colnum="1" colname="c1"/><colspec colwidth="3.08*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{“assetUid":"&lt;assetUID>","eventTypes":["&lt;eventType1>, &lt;eventType2>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{“assetUid":"CAMERA-HYP1083-CAM-L","eventTypes":["PKIN,PKOUT”]} </entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
    </section><table id="table_ygs_3tx_kx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><colspec colwidth="1.0*" colnum="3" colname="c3"/><colspec colwidth="1.0*" colnum="4" colname="c4"/><tbody><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>Value such as "CAMERA-HYP1083-CAM-L".</entry></row><row><entry>eventType</entry><entry>Filter for parking events.</entry><entry>Yes</entry><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row></tbody></tgroup></table><section>
      <title>Retrieve Near-Real-Time Data by Locations</title>
      <table id="table_dv3_rq5_gx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1*" colnum="1" colname="c1"/><colspec colwidth="3.08*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{"bbox":"&lt;long,lat>","eventTypes":[“ &lt;eventType1>,&lt;eventType2>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{"bbox":"32.715675:-117.161230,32.708498:-117.151681","eventTypes":[“PKIN,PKOUT”]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_f13_jry_kx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><colspec colwidth="1.0*" colnum="3" colname="c3"/><colspec colwidth="1.0*" colnum="4" colname="c4"/><tbody><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row><row><entry>bbox</entry><entry>The GPS-defined area containing the asset</entry><entry/><entry>GPS values that define the bounding box area </entry></row><row><entry>eventTypes</entry><entry>Filter for parking events.</entry><entry/><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Near-Real-Time Data by LocationUid</title>
      <table id="table_p23_ssy_kx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{“locationUid":"&lt;location-UID>","eventTypes":[" &lt;eventType1>,&lt; eventType2>"]}</entry></row><row><entry>Sample JSON Request</entry><entry>{“locationUid":"LOCATION-282","eventTypes":["PKIN,PKOUT"]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_udn_lty_kx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><colspec colwidth="1.0*" colnum="3" colname="c3"/><colspec colwidth="1.0*" colnum="4" colname="c4"/><tbody><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row><row><entry>locationUid</entry><entry>The identifier assigned to this location </entry><entry/><entry>Value such as "LOCATION-282"</entry></row><row><entry>eventType</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row></tbody></tgroup></table>
    </section><section>
      <title>Sample Response</title>
      <note>You must use a WebSocket client to retrieve this data.</note>
      <codeblock>{
"locationUid": "LOCATION-282",
"assetUid": "CAMERA-HYP1070-CAM-R",
"eventType": "PKIN",
"timestamp": 1474479726251,
"properties": {
"pixelCoordinates": "33:-117,33:-117,33:-117,33:-117",
"eventUid": "Q0FNRVJBLUhZUDEwNzAtQ0FNLVIsMTQ3NDQ3OTcyNjI1MQ==",
"objectUid": "1474479726",
      "geoCoordinates": "32.7134021:-117.1575105,32.7133999:-117.1574874,32.7133482:-117.1574878,32.7133504:-117.1575100",
      "imageAssetUid": "CAMERA-HYP1070-CAM-R"
},
"measures": {}
}
</codeblock>
      <p>
        <note>The above examples show the interval in seconds, but your PARKING simulation is shown in minutes.</note>
      </p>
    </section><section>
      <title>Retrieve Historical Data by AssetUid</title>
      <table id="table_u3z_44p_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1*" colnum="1" colname="c1"/><colspec colwidth="3.08*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI for PKIN</b></entry><entry>&lt;production url&gt;/v2/assets/{assetUid}/events?eventType=PKIN{startTime,endTime}</entry></row><row><entry><b>URI for PKOUT</b></entry><entry>&lt;production url&gt;/v2/assets/{assetUid}/events?eventType=PKOUT{startTime,endTime}</entry></row><row><entry><b>Sample Request URI for PKIN</b></entry><entry>&lt;production url&gt;/v2/assets/CAMERA-HYP1070-CAM-F/events?eventType=PKIN&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row><row><entry><b>Sample Request URI for PKOUT</b></entry><entry>&lt;production url&gt;/v2/assets/CAMERA-HYP1070-CAM-F/events?eventType=PKOUT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_q5t_jh1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>Value such as CAMERA-HYP1070-CAM-F.</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry>Yes</entry><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Filter for parking events.</entry><entry>Yes</entry><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by Locations</title>
      <table id="table_kfs_jr5_gx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1*" colnum="1" colname="c1"/><colspec colwidth="3.08*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI for PKIN</b></entry><entry>&lt;production url>/v2/locations/events?bbox={lat,long}&amp;locationType=PARKING_ZONE&amp;eventTypes=PKIN{startTime,endTime}</entry></row><row><entry><b>URI for PKOUT</b></entry><entry>&lt;production url?/v2/locations/events?eventTypes=PKOUT&amp;bbox={lat,long}&amp;locationType=PARKING_ZONE&amp;{startTime,endTime}</entry></row><row><entry><b>Sample Request URI for PKIN</b></entry><entry>&lt;production url/v2/locations/events?bbox=32.715675:-117.161230,32.708498:-117.151681&amp;locationType=PARKING_ZONE&amp;eventTypes=PKIN&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row><row><entry><b>Sample Request URI for PKOUT</b></entry><entry>&lt;production url&gt;/v2/assets/CAMERA-HYP1070-CAM-F/events?eventTypes=PKOUT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_msy_kh1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>bbox</entry><entry>GPS location for the event.</entry><entry>Yes</entry><entry>Value such as 32.715675:-117.161230,32.708498:-117.151681.</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>locationType</entry><entry>Filter by type of location.</entry><entry>No</entry><entry>Insert one of the following codes for a specific location type:<dl><dlentry><dt>PARKING SPOT</dt><dd>If you filter by PARKING_SPOT, you receive a list of demarcated parking spaces within the boundaries. (Not applicable in v2.)</dd></dlentry></dl><dl><dlentry><dt>PARKING ZONE</dt><dd>PARKING_ZONE consists of four GEO coordinates of non-demarcated parking spaces within the boundaries.</dd></dlentry></dl><dl><dlentry><dt>WALKWAY</dt><dd>WALKWAY consists of two GEO coordinates indicating a trip wire in pedestrian walkways within the boundaries.</dd></dlentry></dl><dl><dlentry><dt>TRAFFIC LANE</dt><dd>TRAFFIC_LANE consists of two GEO coordinates indicating a trip wire in traffic lanes within the boundaries.</dd></dlentry></dl><dl><dlentry><dt>OTHERS</dt><dd>OTHERS consists of non-standard location types within the boundaries.</dd></dlentry></dl><dl><dlentry><dt>RETAIL STORE</dt><dd>RETAIL-STORE consists of retail stores within the boundaries.</dd></dlentry></dl></entry></row><row><entry>eventTypes</entry><entry>Filter for parking events.</entry><entry>Yes</entry><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by LocationUid</title>
      <table id="table_ul3_lr5_gx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1*" colnum="1" colname="c1"/><colspec colwidth="3.08*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI for PKIN</b></entry><entry>&lt;production url>/v2/locations/{LocationUid}/events?eventTypes=PKIN{startTime,endTime,size,page}</entry></row><row><entry><b>URI for PKOUT</b></entry><entry>&lt;productionurl>/v2/locations/{LocationUid}/events?eventTypes=PKOUT&amp;{startTime,endTime,size,page}</entry></row><row><entry><b>Sample Request URI for PKIN</b></entry><entry>&lt;production url>/v2/locations/LOCATION-282/events?eventTypes=PKIN&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row><row><entry><b>Sample Request URI for PKOUT</b></entry><entry>&lt;production url/v2//locations/LOCATION-282/events?eventTypes=PKOUT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_typ_lh1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>locationUid</entry><entry>Location of a specific asset.</entry><entry>Yes</entry><entry>Value such as LOCATION-282.</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Filter for parking events.</entry><entry>Yes</entry><entry>Insert the following enumeration codes to identify vehicles entering and exiting parking spaces:<dl><dlentry><dt>PKIN</dt><dd>If you filter by PKIN, you receive a list of vehicles (identified by objectUid) entering parking areas within the boundaries.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>If you filter by PKOUT you receive a list of vehicles (identified by objectUid) exiting parking areas within the boundaries.</dd></dlentry></dl></entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577.<note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Response Parameters</title>
      <table id="IOTdkNjI0ZGEtYmVjZC00MjdhLWFjNmItZjMxZGU1ZjZiNzU4" frame="all" rowsep="1" colsep="1"><tgroup cols="3"><colspec colwidth="1.48*" colnum="1" colname="c1"/><colspec colwidth="1.07*" colnum="2" colname="c2"/><colspec colwidth="7.88*" colnum="3" colname="c4"/><thead><row><entry>Parameter</entry><entry>Data Type</entry><entry>Description</entry></row></thead><tbody><row><entry> locationUid</entry><entry/><entry>Unique, customer-defined identifier, for a specific location within the monitored area.</entry></row><row><entry>assetUid</entry><entry/><entry>The customer-defined identifier for a specific asset at this location.</entry></row><row><entry>eventTypes</entry><entry/><entry>Identifies this type of event:<dl><dlentry><dt>PKIN</dt><dd>Vehicle entering parking space.</dd></dlentry><dlentry><dt>PKOUT</dt><dd>Vehicle exiting parking space.</dd></dlentry></dl></entry></row><row><entry>timestamp</entry><entry/><entry>Actual timestamp when event occurred. Timestamps are in EPOCH format.</entry></row><row><entry>properties</entry><entry/><entry>
                <dl><dlentry><dt>pixelCoordinates</dt><dd>Local coordinates of a in the image.</dd></dlentry></dl>
                <dl><dlentry><dt>eventUid</dt><dd>The identifier assigned to a specific parking event.</dd></dlentry></dl>
                <dl><dlentry><dt>objectUid</dt><dd>The identifier of a specific vehicle.</dd></dlentry></dl>
                <dl><dlentry><dt>geoCoordinates</dt><dd>The GPS coordinates of a vehicle.</dd></dlentry></dl>
                <dl><dlentry><dt>imageAssetUid</dt><dd>The identifier of the camera that provided the image.</dd></dlentry></dl>
                <note>To retrieve the image, use the Media-on-Demand API by providing the imageAssetUid and timestamp from this response.</note>
              </entry></row><row><entry>measures</entry><entry/><entry>There is no content for this field.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Sample Response</title>
    </section><section>
      <codeblock>{
  "content": [
    {
      "locationUid": "LOCATION-282",
      "assetUid": "CAMERA-HYP1070-CAM-R",
      "eventTypes": "PKOUT",
      "timestamp": 1473897364055,
      "properties": {
        "pixelCoordinates": "33:-117,33:-117,33:-117,33:-117",
        "eventUid": "Q0FNRVJBLUhZUDEwNzAtQ0FNLVIsMTQ3Mzg5NzM2NDA1NQ==",
        "objectUid": "1473897356",
        "geoCoordinates": "32.7134562:-117.1575102,32.7134535:-117.1574876,32.7133999:-117.1574874,32.7134021:-117.1575105",
        "imageAssetUid": "CAMERA-HYP1070-CAM-R"
      },
      "measures": {}
    }</codeblock>
    </section></refbody></reference>