<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA 1.2 Reference//EN" "reference.dtd" [
]>
<reference id="reference_3dd4f077-428d-473f-91be-64677b081494"><title>Pedestrian Planning</title><prolog><author>Linda Castellani</author></prolog><refbody><section>
      <p>There are three ways to retrieve near-real-time data:<ul id="ul_zqg_clz_bx"><li>By AssetUid</li><li>By Locations</li><li>By LocationUid</li></ul></p>
      <p>There are three ways to retrieve historical data:<ul id="ul_ndk_3lz_bx"><li>By AssetUid</li><li>By Locations</li><li>By LocationUid</li></ul></p>
    </section><section>
      <title>Near-Real-Time Data</title>
      <p>The WebSocket URL provides a link to near-real-time data for Pedestrian events. You must use a WebSocket client to retrieve this data.</p>
    </section><section>
      <title>Retrieve Near-Real-Time Data by AssetUid</title>
      <table id="table_opj_rt1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{“assetUid":"&lt;assetUID>","eventTypes":["&lt;eventType1>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{“assetUid":"CAMERA-HYP1083-CAM-L","eventTypes":["PEDEVT”]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_953eead5-e3ce-4d1f-9479-b163f9255f7c" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>Value such as "CAMERA-HYP1083-CAM-L".</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Near-Real-Time Data by Locations</title>
      <table id="table_esx_h51_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{"bbox":"&lt;long,lat>","eventTypes":[“ &lt;eventType1>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{"bbox":"32.715675:-117.161230,32.708498:-117.151681","eventTypes":[“PEDEVT”]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_fsx_h51_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>bbox</entry><entry>GPS location of the asset</entry><entry>Yes</entry><entry>Value such as "32.715675:-117.161230,32.708498:-117.151681".</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Near-Real-Time Data by LocationUid</title>
      <table id="table_xw1_cqb_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{“locationUid":"&lt;location-UID>","eventTypes":[" &lt;eventType1>"]}</entry></row><row><entry>Sample JSON Request</entry><entry>{“locationUid":"LOCATION-282","eventTypes":["PEDEVT"]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_efr_4sb_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><colspec colwidth="1.0*" colnum="3" colname="c3"/><colspec colwidth="1.0*" colnum="4" colname="c4"/><tbody><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row><row><entry>locationUid</entry><entry>The identifier assigned to this location </entry><entry/><entry>Value such as "LOCATION-282"</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary. </entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by AssetUid</title>
      <table id="table_nsk_s51_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url/v2/assets/{assetUid}/events?eventTypes=PEDEVT&amp;{startTime,endTime}</entry></row><row><entry><b>Sample Request URI</b></entry><entry>&lt;production url/v2/assets/CAMERA-HYP1039-CAM-F/events?eventTypes=PEDEVT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_yvb_w51_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>Value such as CAMERA-HYP1039-CAM-F</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary. </entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned. </note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by Locations</title>
      <table id="table_zhx_2v1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url>/v2/locations/events?eventTypes=PEDEVT&amp;bbox={lat,long}&amp;locationType=WALKWAY&amp;{startTime,endTime}</entry></row><row><entry><b>Sample Request URI</b></entry><entry>&lt;production url/v2/locations/events?eventTypes=PEDEVT&amp;bbox=32.715675:-117.161230,32.708498:-117.151681&amp;locationType=WALKWAY&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_flr_fv1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>bbox</entry><entry>The GPS-defined area containing the asset</entry><entry>Yes</entry><entry>Value such as 32.715675:-117.161230,32.708498:-117.151681.</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary. </entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by LocationUid</title>
      <table id="table_uks_hv1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url/v2/locations/{locationUID}/events?eventTypes=PEDEVT&amp;{startTime,endTime}</entry></row><row><entry><b>Sample Request URI</b></entry><entry>&lt;production url/v2/locations/LOCATION-30-1039-2-S/events?eventTypes=PEDEVT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_vvj_3v1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>locationUid</entry><entry>The specific location within the bounding box</entry><entry>Yes</entry><entry>Value such as LOCATION-30-1039-2-S</entry></row><row><entry>events</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Filter for pedestrian events.</entry><entry>Yes</entry><entry>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary. </entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Response Parameters</title>
    </section><section>
      <table id="table_xh3_4nb_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="3"><colspec colwidth="20*" colnum="1" colname="c1"/><colspec colwidth="20*" colnum="2" colname="c2"/><colspec colwidth="50*" colnum="3" colname="c4"/><thead><row><entry>Parameter</entry><entry>Data Type</entry><entry>Description</entry></row></thead><tbody><row><entry>locationUid</entry><entry>String</entry><entry>Unique, customer-defined identifier, for a specific location within the monitored area.</entry></row><row><entry>assetUid</entry><entry>String</entry><entry>The customer-defined identifier for a specific asset at this location.</entry></row><row><entry>eventTypes</entry><entry>String</entry><entry>Identifies this kind of event:<dl><dlentry><dt>PEDEVT</dt><dd>Insert PEDEVT to receive a list of pedestrians by count, direction, and speed within the monitored boundary.</dd></dlentry></dl></entry></row><row><entry>timestamp</entry><entry>Number</entry><entry>Actual timestamp when event occurred. Timestamps are in EPOCH format.</entry></row><row><entry>properties</entry><entry>Map</entry><entry>Properties of the event<dl><dlentry><dt>directionUnit </dt><dd>DEGREE</dd></dlentry></dl><dl><dlentry><dt>speedUnit</dt><dd>MPH</dd></dlentry></dl></entry></row><row><entry> measures</entry><entry>String</entry><entry>Pedestrian properties being tracked by the device.<dl><dlentry><dt>weighted average direction</dt><dd>value = from 0 to 360</dd><dd>(See Degree Range diagram below)</dd></dlentry></dl><dl><dlentry><dt>weighted average speed</dt><dd>value = 3, unit = mph</dd></dlentry></dl><dl><dlentry><dt>pedestrianCount</dt><dd>value = count, unit = number</dd></dlentry></dl></entry></row><row><entry nameend="c4" namest="c1"><image id="image_e59f01e0-21b4-46ea-81f2-3bdf12536959" href="i_traffic_degrees.png"/></entry></row></tbody></tgroup></table>
    </section><section>
      <codeblock>{
  "content": [
    {
      "locationUid": "LOCATION-30-1039-2-S",
      "assetUid": "CAMERA-HYP1039-CAM-F",
      "eventTypes": "PEDEVT",
      "timestamp": 1473897249009,
      "properties": {
        "directionUnit": "DEGREE",
        "speedUnit": "MPH",
        "eventUid": "Q0FNRVJBLUhZUDEwMzktQ0FNLUYsMTQ3Mzg5NzI0OTAwOQ=="
      },
      "measures": {
        "direction": 130,
        "pedestrianCount": 30,
        "speed": 3
      }
    }</codeblock>
    </section></refbody></reference>