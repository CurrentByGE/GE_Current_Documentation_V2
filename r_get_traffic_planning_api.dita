<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA 1.2 Reference//EN" "reference.dtd" [
]>
<reference id="reference_6d13c3fa-663b-422e-853f-31e459c4efd2"><title>Traffic Planning</title><prolog><author>Linda Castellani</author></prolog><refbody><section>
            <p>This API returns details on how traffic is flowing, by lane, on a monitored road.</p>
      <p>There are three ways to retrieve near-real-time data:<ul id="ul_zqg_clz_bx"><li>By AssetUid</li><li>By Locations</li><li>By LocationUid</li></ul></p>
      <p>There are three ways to retrieve historical data:<ul id="ul_ndk_3lz_bx"><li>By AssetUid</li><li>By Locations</li><li>By LocationUid</li></ul></p>
        </section><section>
      <title>Retrieve Near-Real-Time Data by AssetUid</title>
      <table id="table_pbx_1db_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{“assetUid":"&lt;assetUID>","eventTypes":["&lt;eventType1>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{“assetUid":"CAMERA-HYP1083-CAM-L","eventTypes":["TFEVT”]}</entry></row></tbody></tgroup></table>
    </section><section>
            <title>JSON Request Parameters</title>
            <table id="table_953eead5-e3ce-4d1f-9479-b163f9255f7c" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>Value such as "CAMERA-HYP1083-CAM-L".</entry></row><row><entry>eventTypes</entry><entry>Type of event.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row></tbody></tgroup></table>
        </section><section>
      <title>Retrieve Near-Real-Time Data by Locations</title>
      <table id="table_vm2_c1c_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry>{"bbox":"&lt;long,lat>","eventTypes":[“ &lt;eventType1>”]}</entry></row><row><entry>Sample JSON Request</entry><entry>{"bbox":"32.715675:-117.161230,32.708498:-117.151681","eventTypes":[“TFEVT”]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_nl5_m1c_hx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><colspec colwidth="1.0*" colnum="3" colname="c3"/><colspec colwidth="1.0*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>bbox</entry><entry>GPS location of the asset</entry><entry>Yes</entry><entry>Value such as "32.715675:-117.161230,32.708498:-117.151681".</entry></row><row><entry>eventTypes</entry><entry>Filter for traffic events.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Near-Real-Time Data by LocationUid</title>
      <table id="table_v5r_pkz_bx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><tbody><row><entry>WebSocket URL</entry><entry>wss://&lt;production url>/events</entry></row><row><entry>JSON Request Parameters</entry><entry/></row><row><entry>Sample JSON Request</entry><entry>{“locationUid":"LOCATION-282","eventTypes":["TFEVT"]}</entry></row></tbody></tgroup></table>
    </section><section>
      <title>JSON Request Parameters</title>
      <table id="table_fvg_2db_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>locationUid</entry><entry>The identifier assigned to this location </entry><entry>Yes</entry><entry>Value such as "LOCATION-282".</entry></row><row><entry>eventTypes</entry><entry>Filter for traffic events.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by AssetUid</title>
      <table id="table_jbj_jsz_bx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="1.0*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url/v2/assets/{assetUid}events?eventTypes=TFEVT&amp;(startTime,endTime)</entry></row><row><entry><b>Sample Request URI</b></entry><entry>&lt;production url/v2/assets/CAMERA-HYP1037-CAM-F/events?eventTypes=TFEVT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_qvp_hdb_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>assetUid</entry><entry>GE identifier for the device.</entry><entry>Yes</entry><entry>For example, CAMERA-HYP1037-CAM-F</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry>Yes</entry><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Type of event.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by Locations</title>
      <table id="table_vcw_fd1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="0.9*" colnum="1" colname="c1"/><colspec colwidth="2.05*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url/v2/locations/events?eventTypes=TFEVT&amp;bbox={long,lat}&amp;locationType=TRAFFIC_LANE&amp;(startTime,endTime)</entry></row><row><entry><b>Sample Request URL</b></entry><entry>&lt;production url>/v2/locations/events?eventTypes=TFEVT&amp;bbox=32.715675:-117.161230,32.708498:-117.151681&amp;locationType=TRAFFIC_LANE&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_bs1_kdb_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>bbox</entry><entry>The GPS-defined area containing the asset</entry><entry>Yes</entry><entry>For example, 32.715675:-117.161230,32.708498:-117.151681</entry></row><row><entry>eventTypes</entry><entry>Type of event.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Retrieve Historical Data by LocationUid</title>
      <table id="table_l2k_xg1_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="2"><colspec colwidth="1.0*" colnum="1" colname="c1"/><colspec colwidth="2.0*" colnum="2" colname="c2"/><tbody><row><entry><b>METHOD</b></entry><entry>GET</entry></row><row><entry><b>URI</b></entry><entry>&lt;production url>/v2/locations/{locationUid}/events?eventTypes=TFEVT&amp;{startTime,endTime}</entry></row><row><entry><b>Sample Request URL</b></entry><entry>&lt;production url>/v2/locations/LOCATION-20-1037-1/events?eventTypes=TFEVT&amp;startTime=1473897230802&amp;endTime=1473898239338</entry></row></tbody></tgroup></table>
    </section><section>
      <title>Query Parameters</title>
      <table id="table_ipk_mdb_cx" frame="all" rowsep="1" colsep="1"><tgroup cols="4"><colspec colwidth="1.35*" colnum="1" colname="c1"/><colspec colwidth="2.55*" colnum="2" colname="c2"/><colspec colwidth="1*" colnum="3" colname="c3"/><colspec colwidth="2.88*" colnum="4" colname="c4"/><thead><row><entry>Parameter</entry><entry>Description</entry><entry>Required?</entry><entry>Filter Values</entry></row></thead><tbody><row><entry>locationUid</entry><entry>GE identifier for the location.</entry><entry>Yes</entry><entry>For example, LOCATION-20-1037-1</entry></row><row><entry>events?</entry><entry>Query for historical data</entry><entry/><entry>eventTypes</entry></row><row><entry>eventTypes</entry><entry>Type of event.</entry><entry>Yes</entry><entry>If you filter by TFEVT, you receive a list of vehicles in traffic lanes.</entry></row><row><entry>startTime</entry><entry>Start time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453766605577. <note>If you use the same timestamp for startTime and endTime, a single result will be returned.</note></entry></row><row><entry>endTime</entry><entry>End time (timestamp) recorded in EPOCH format.</entry><entry>Yes</entry><entry>Numerical value, such as 1453772603879.</entry></row></tbody></tgroup></table>
    </section><section>
            <title>Response Parameters </title>
            <table id="table_b17ad35e-4823-4112-8893-3e49050caaa4" frame="all" rowsep="1" colsep="1"><tgroup cols="3"><colspec colwidth="1.45*" colnum="1" colname="c1"/><colspec colwidth="1.05*" colnum="2" colname="c2"/><colspec colwidth="4.75*" colnum="3" colname="c4"/><thead><row><entry>Parameter</entry><entry>Data Type</entry><entry>Description</entry></row></thead><tbody><row><entry> locationUid</entry><entry>String</entry><entry>A unique identifier established by a customer or external resource to identify the lane number.</entry></row><row><entry> assetUid</entry><entry>String</entry><entry>A unique identifier established by a customer or external resource for the asset recording the traffic flow.</entry></row><row><entry> eventTypes</entry><entry>String</entry><entry>Identifies the TFEVT event type.</entry></row><row><entry> timestamp</entry><entry>Number</entry><entry>Timestamp recorded in EPOCH format.</entry></row><row><entry> properties</entry><entry>String</entry><entry>Vehicle properties being tracked by the asset.<dl><dlentry><dt>speedUnit</dt><dd>Roadway speed limit. </dd></dlentry></dl><dl><dlentry><dt>eventUid</dt><dd>A unique identifier established by a customer or external resource for the traffic event. For example, a specific vehicle traversing a specific road segment.</dd></dlentry></dl><dl><dlentry><dt>directionUnit</dt><dd>By degree. </dd></dlentry></dl><dl><dlentry><dt>vehicleType</dt><dd>Car, truck, motorcycle, and so on.  (Not used in v2.)</dd></dlentry></dl></entry></row><row><entry> measures</entry><entry>String</entry><entry>Vehicle properties being tracked by the device.<dl><dlentry><dt>direction</dt><dd>value = from 0 to 360</dd><dd>(See Degree Range diagram below)</dd></dlentry></dl><dl><dlentry><dt>speed</dt><dd>value = 55, unit = mph</dd></dlentry></dl><dl><dlentry><dt>vehicleCount</dt><dd>value = count, unit = number</dd></dlentry></dl></entry></row><row><entry nameend="c4" namest="c1"><image id="image_e59f01e0-21b4-46ea-81f2-3bdf12536959" href="i_traffic_degrees.png"/></entry></row></tbody></tgroup></table>
        </section><section>
            <title>Sample Response</title>
            <codeblock>{
  "content": [
    {
      "locationUid": "LOCATION-20-1037-1",
      "assetUid": "CAMERA-HYP1037-CAM-F",
      "eventTypes": "TFEVT",
      "timestamp": 1473897233994,
      "properties": {
        "speedUnit": "MPH",
        "eventUid": "Q0FNRVJBLUhZUDEwMzctQ0FNLUYsMTQ3Mzg5NzIzMzk5NA==",
        "directionUnit": "DEGREE",
        "vehicleType": "truck"
      },
      "measures": {
        "direction": 263,
        "speed": 5,
        "vehicleCount": 24
      }
    }
    </codeblock>
        </section></refbody></reference>